<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="text/javascript" src="/src/loader/jb-loader.js"></script>
<link rel="stylesheet" type="text/css" href="/bin/studio/css/studio-all.css"/>
<style>
	.test-button { opacity: 0 }
	.test-button:hover { opacity: 1 }
</style>
</head>
<body>
	<div id="mem"> </div>
	<div id="testElem"> </div>
	<div id="show"> </div>
 <script>
	jb_codeLoaderServer('tests', {projects: ['studio','tests']})
		.then(()=>{
			jb.exec(defaultTheme()),
			jb.spy.initSpyByUrl()
			const urlQuery = prop => (location.href.match(new RegExp(prop + '=([^&]*)')) || [])[1]
			const params = { 
				testType: '',
				show: location.href.indexOf('&show') != -1,
				specificTest: urlQuery('test'),
				rerun: urlQuery('rerun'),
				pattern: urlQuery('pattern'),
				notPattern: urlQuery('not'),
				take: urlQuery('take'),
			}
			console.log(params)
			jb.test.runTests(params)
		})
  </script>
</body>
</html>